<!doctype html>
<html>
  <head>
    <title>rybl.net | Kelvin Versioning</title>

    <link rel="stylesheet" href="/style/common.css" />
    <!--<link rel="stylesheet" href="/style/skylighting-espresso.css" />-->
    <link rel="stylesheet" href="/style/skylighting-solarized.css" />
    <link rel="stylesheet" href="/style/background.css" />
    <link rel="stylesheet" href="/style/custom-elements.css" />
    <link rel="stylesheet" href="/style/header-and-footer.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap"
      rel="stylesheet"
    />
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"
    ></script>

    <script src="/script/parallax-body-background-on-scroll.js"></script>

    <!--<link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/tokyo-night-light.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>

    <script>
      hljs.highlightAll();
    </script>-->    <link rel="stylesheet" href="/style/post.css" />
  </head>
  <body>
    <svg>
      <defs>
        <filter
          id="dancing-stroke-svg-filter"
          color-interpolation-filters="linearRGB"
          filterUnits="objectBoundingBox"
          primitiveUnits="userSpaceOnUse"
        >
          <feMorphology
            operator="dilate"
            radius="4 4"
            in="SourceAlpha"
            result="morphology"
          />
          <feFlood flood-color="#30597E" flood-opacity="1" result="flood" />
          <feComposite
            in="flood"
            in2="morphology"
            operator="in"
            result="composite"
          />
          <feComposite
            in="composite"
            in2="SourceAlpha"
            operator="out"
            result="composite1"
          />
          <feTurbulence
            type="fractalNoise"
            baseFrequency="0.01 0.02"
            numOctaves="1"
            seed="0"
            stitchTiles="stitch"
            result="turbulence"
          />
          <feDisplacementMap
            in="composite1"
            in2="turbulence"
            scale="17"
            xChannelSelector="A"
            yChannelSelector="A"
            result="displacementMap"
          />
          <feMerge result="merge">
            <feMergeNode in="SourceGraphic" result="mergeNode" />
            <feMergeNode in="displacementMap" result="mergeNode1" />
          </feMerge>
        </filter>
      </defs>
    </svg>

    <div id="background"></div>
    <header><div class="title">
      <div class="root-title">
        <a href="/">rybl.net</a>
      </div>

      <img class="website-icon" src="/image/rybl-small.png" />

      <div class="local-title">Kelvin Versioning</div>
    </div>
    <div class="menu">
      <div class="item">
        <a href="/">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon lucide lucide-library-icon lucide-library"
          >
            <path d="m16 6 4 14" />
            <path d="M12 6v14" />
            <path d="M8 8v12" />
            <path d="M4 4v16" />
          </svg>
        </a>
      </div>
      <div class="item">
        <a href="/page/about.html">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="icon lucide lucide-info-icon lucide-info"
          >
            <circle cx="12" cy="12" r="10" />
            <path d="M12 16v-4" />
            <path d="M12 8h.01" />
          </svg>
        </a>
      </div>
      <div class="item">
        <a href="/page/profile.html">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-globe-icon lucide-globe"
          >
            <circle cx="12" cy="12" r="10" />
            <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20" />
            <path d="M2 12h20" />
          </svg>
        </a>
      </div>
      <div class="item">
        <a href="/page/graph.html">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-orbit-icon lucide-orbit"
          >
            <path d="M20.341 6.484A10 10 0 0 1 10.266 21.85" />
            <path d="M3.659 17.516A10 10 0 0 1 13.74 2.152" />
            <circle cx="12" cy="12" r="3" />
            <circle cx="19" cy="5" r="2" />
            <circle cx="5" cy="19" r="2" />
          </svg>
        </a>
      </div>
      <div class="item">
        <a href="/page/signature.html"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="1"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-fingerprint-icon lucide-fingerprint"
          >
            <path d="M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4" />
            <path d="M14 13.12c0 2.38 0 6.38-1 8.88" />
            <path d="M17.29 21.02c.12-.6.43-2.3.5-3.02" />
            <path d="M2 12a10 10 0 0 1 18-6" />
            <path d="M2 16h.01" />
            <path d="M21.8 16c.2-2 .131-5.354 0-6" />
            <path d="M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2" />
            <path d="M8.65 22c.21-.66.45-1.32.57-2" />
            <path d="M9 6.8a6 6 0 0 1 9 5.2v2" /></svg
        ></a>
      </div>
    </div></header>
    <main><h1><a href="/post/kelvin-versioning.html"
class="no-link-favicon no-link-preview">Kelvin Versioning</a></h1>
<div>
<div class="sidenote persistent header-info">
<p><u>Published:</u> 2022-06-08</p>
<p><u>Tags:</u> software-engineering</p>
<p><u>Abstract</u></p>
<p>Kelvin versioning is an uncommon versioning scheme, introduced by
Curtis Yarvin at Urbit, that enumerates newer versions with lower
natural numbers. When version 0K is reached, no more changes are allowed
-- this final version is, permanently, "frozen". I present a way to
arrive at versioning schemes like semantic versioning (semver) and
Kelvin versioning (kelver) from first principles, and propose an variant
of Kelvin versioning that mirrors the way that semantic versioning
improved upon more primitive versioning schemes.</p>
</div>
</div>
<div>
<div class="sidenote persistent table-of-contents">
<p><u>Table of Contents</u></p>
<ol type="1">
<li><a href="#kelvin-versioning"
class="no-link-favicon no-link-preview">Kelvin Versioning</a></li>
<li><a href="#semantic-versioning"
class="no-link-favicon no-link-preview">Semantic Versioning</a></li>
<li><a href="#the-purposes-of-versioning-schemes"
class="no-link-favicon no-link-preview">The Purposes of Versioning
Schemes</a>
<ol type="1">
<li><a href="#randver-hashver"
class="no-link-favicon no-link-preview">randver &amp; hashver</a></li>
<li><a href="#natver"
class="no-link-favicon no-link-preview">natver</a></li>
<li><a href="#semver"
class="no-link-favicon no-link-preview">semver</a></li>
<li><a href="#kelver"
class="no-link-favicon no-link-preview">kelver</a></li>
</ol></li>
<li><a href="#definitions-of-versioning-schemes"
class="no-link-favicon no-link-preview">Definitions of Versioning
Schemes</a></li>
<li><a href="#references"
class="no-link-favicon no-link-preview">References</a></li>
<li><a href="#signature"
class="no-link-favicon no-link-preview">Signature</a></li>
</ol>
</div>
</div>
<h2 id="kelvin-versioning">§ <a href="#kelvin-versioning"
class="no-link-favicon no-link-preview">Kelvin Versioning</a></h2>
<p><strong>Kelvin versioning</strong> (i.e. <strong>kelver</strong>) is
an extremely uncommon versioning scheme, introduced by [Curtis
Yarvin][curtis-yarvin] at [Urbit][urbit], that enumerates newer versions
with lower natural numbers. The metaphor is between versions of a
software project and degrees of [Kelvin][kelvin], which is the <span><a
href="https://en.wikipedia.org/wiki/SI_base_unit"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />SI base unit</a><span
class="sidenote preview">SI base unit<br/><em><a
href="https://en.wikipedia.org/wiki/SI_base_unit" title="_blank"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />https://en.wikipedia.org/wiki/Escrow</a></em><br/>Placeholder
description for https://en.wikipedia.org/wiki/Escrow</span></span> of
<span><a href="https://en.wikipedia.org/wiki/Temperature"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />temperature</a><span
class="sidenote preview">temperature<br/><em><a
href="https://en.wikipedia.org/wiki/Temperature" title="_blank"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />https://en.wikipedia.org/wiki/Escrow</a></em><br/>Placeholder
description for https://en.wikipedia.org/wiki/Escrow</span></span> where
0 degrees Kelvin --- written 0K and often referred to as <span><a
href="https://en.wikipedia.org/wiki/Absolute_zero"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />"absolute zero"</a><span
class="sidenote preview">"absolute zero"<br/><em><a
href="https://en.wikipedia.org/wiki/Absolute_zero" title="_blank"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />https://en.wikipedia.org/wiki/Escrow</a></em><br/>Placeholder
description for https://en.wikipedia.org/wiki/Escrow</span></span> ---
is the measure of the total absence of kinetic energy.</p>
<p>In this way, as a project's version approaches 0K, the amount of
further changes allowed (i.e. the kinetic energy) approaches 0. A
project with version a high degree is expected to experience many
further changes --- it has high kinetic energy. A project with version a
low degree is expected to experience few further changes --- it has low
kinetic energy.</p>
<h2 id="semantic-versioning">§ <a href="#semantic-versioning"
class="no-link-favicon no-link-preview">Semantic Versioning</a></h2>
<p><strong>[Semantic versioning][semver]</strong> (i.e.
<strong>semver</strong>) is the most standard, and extremely common,
versioning scheme used in production software. It encodes a project's
version with three natural numbers, written
<code>major.minor.patch</code>:</p>
<ul>
<li><strong>major</strong>: Versions with the same major version number
are <span><a
href="https://en.wikipedia.org/wiki/Backward_compatibility"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />backwards compatible</a><span
class="sidenote preview">backwards compatible<br/><em><a
href="https://en.wikipedia.org/wiki/Backward_compatibility"
title="_blank"><img src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />https://en.wikipedia.org/wiki/Escrow</a></em><br/>Placeholder
description for https://en.wikipedia.org/wiki/Escrow</span></span>. In
this way, an major version update indicates non-backwards-compatibile
changes.</li>
<li><strong>minor</strong>: A minor version update indicates
backwards-compatible changes.</li>
<li><strong>patch</strong>: A patch version update indicates
backwards-compatible changes that only fix bugs.</li>
</ul>
<h2 id="the-purposes-of-versioning-schemes">§ <a
href="#the-purposes-of-versioning-schemes"
class="no-link-favicon no-link-preview">The Purposes of Versioning
Schemes</a></h2>
<p>The contrast between kelver and semver demonstrates some
fundamentally different ideas about the purposes of versioning schemes.
At bottom, a versioning scheme is a scheme for uniquely naming each
version of a project. This description captures both kelver and semver,
and also allows completely unconventional schemes such as the
following:</p>
<ul>
<li><strong>randver</strong>: the version is a random version not
already used by an existing version (this is how many layuser-facing
version names are chosen for systems like macos and android)</li>
<li><strong>hashver</strong>: the version is the hash of the project
(this is essentially how github versions commits)</li>
<li><strong>idver</strong>: the version <em>is</em> the project (in
binary)</li>
<li><strong>natver</strong>: the version starts at 0 and increments for
each new version version</li>
</ul>
<h3 id="randver-hashver">§ <a href="#randver-hashver"
class="no-link-favicon no-link-preview">randver &amp; hashver</a></h3>
<p>The hamartia of randver and hashver is that the versions of projects
do not indicate anything about their relationship other that whether
they are the same.</p>
<p>Idver indicates slightly more than randver and hashver. Taking a
[diff][diff] of two versions entirely describes the (syntactic)
differences between those versions of the project. However, users don't
care specifically about the syntax of a project; users care about the
semantics of a project so they use the project's behaviors without
knowing or understanding in particular <em>how</em> those behaviors are
implemented. So, more developed versioning schemes have adopted the
further purpose to conveniently encode important semantic relationships.
From now on, "change" is used as shorthand for "semantic change".</p>
<h3 id="natver">§ <a href="#natver"
class="no-link-favicon no-link-preview">natver</a></h3>
<p>Natver is the simplest step in the direction of satisfying this
further purpose. For example, version 10 is a more developed version
than version 2 and versions 2 through 9 show how version 1 was
incrementally developed in version 10. Additionally, there are more
significant changes between versions 10 and 100 than between version 1
and 10. Using digital encodings of natural numbers is the only
acceptable way to implement this, but there has been an exception made
from this for <span><a
href="https://en.wikipedia.org/wiki/Donald_Knuth"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />Donald Knuth</a><span
class="sidenote preview">Donald Knuth<br/><em><a
href="https://en.wikipedia.org/wiki/Donald_Knuth" title="_blank"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />https://en.wikipedia.org/wiki/Escrow</a></em><br/>Placeholder
description for https://en.wikipedia.org/wiki/Escrow</span></span> who,
after writing some of the most influencial work on <span><a
href="https://en.wikipedia.org/wiki/The_Art_of_Computer_Programming"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />The Art of Computer
Programming</a><span class="sidenote preview">The Art of Computer
Programming<br/><em><a
href="https://en.wikipedia.org/wiki/The_Art_of_Computer_Programming"
title="_blank"><img src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />https://en.wikipedia.org/wiki/Escrow</a></em><br/>Placeholder
description for https://en.wikipedia.org/wiki/Escrow</span></span> and
developing document and font rendering programs TeX and Metafont which
are still used &gt;60 years later, was allowed to <span><a
href="https://en.wikipedia.org/wiki/TeX#TeX82"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />encode the natver of TeX in unary as
the sequence of digits approaching π (where π is planned to be a locked
version)</a><span class="sidenote preview">encode the natver of TeX in
unary as the sequence of digits approaching π (where π is planned to be
a locked version)<br/><em><a
href="https://en.wikipedia.org/wiki/TeX#TeX82" title="_blank"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />https://en.wikipedia.org/wiki/Escrow</a></em><br/>Placeholder
description for https://en.wikipedia.org/wiki/Escrow</span></span>.</p>
<p>Even this simple step, however, introduces many more ways to misuse
the versioning scheme. In randver, hashver, and idver, releasing a new
project version was trivial. But in natver, the useful information in
the version has to be maintained, nontrivially, by the project
developer. All of the sudden, many more factors are relevant to choosing
when to make a new version than before. The developer has to be
conscious now that, when they release a new version, it should be based
on the immediately previous version of the project. It doesn't make
sense for development to go backwards or have multiple branches because
the versioning in monotone increasing and linear. So, the developer has
to anticipate that the version they are releasing is strictly more
advanced than the previous version. Additionally, each new version
should have roughly the same amount of change. Otherwise, it's
impossible to say if there was more change from version 1 to 10 or from
version 10 to 100.</p>
<h3 id="semver">§ <a href="#semver"
class="no-link-favicon no-link-preview">semver</a></h3>
<p>Beyond natver, there are many other kinds of historical semantic
relationships that could be encoded in the version. Semver has been
adopted as the standard way to simply encode what are widely agreed upon
as the most important of these historical semantic relationships: - a
<strong>major</strong> version corresponds to a behavioral change that
is not compatible with previous major versions - a
<strong>minor</strong> version corresponds to an additional behavior
(i.e. feature) that is compatible with previous minor versions with the
same major version - a <strong>patch</strong> version corresponds to a
change in implementation that does brings the actual behavior more in
line with the intended/expected/specified behavior.</p>
<p>Of course, these intricate ideas multiplies the potential for misuse
and burdens upkeep. For example, the project developer can make a
breaking change in a minor version update, add a new feature in a fix,
make a breaking change in a fix, etc. The developer simply has to be
trusted to use semver correctly, although "misuses" are often just bugs.
More sophisticated versioning schemes like semver have huge advantages
when used well and encourage good organization of semantic relationships
between versions, but are also more difficult to use and practically
force users to just trust the project developer. Semvar has been widely
settled upon as the best way to select and encode a minimal set of
semantic relationships that's worth the continuous effort.</p>
<h3 id="kelver">§ <a href="#kelver"
class="no-link-favicon no-link-preview">kelver</a></h3>
<p>Historical semantic relationships are, however, only
backwards-facing. Future-facing semantic relationships are also
important and are most commonly captured in the concept of
<em>stability</em>. It is seen as good practice on GitHub for a project
to include a <span><a
href="https://github.com/badges/stability-badges"><img
src="/favicon/github.com.svg" class="favicon"
alt="/favicon/github.com.svg" />stability badge</a><span
class="sidenote preview">stability badge<br/><em><a
href="https://github.com/badges/stability-badges" title="_blank"><img
src="/favicon/github.com.svg" class="favicon"
alt="/favicon/github.com.svg" />https://github.com/ucsd-progsys/liquidhaskell</a></em><br/>Placeholder
description for
https://github.com/ucsd-progsys/liquidhaskell</span></span>, so clearly
stability is considered an important metric, but it is also very
difficult to measure if not entirely ephemeral for some projects. This
is certainly one reason that semver, and a very general versioning
scheme, doesn't take a stance on encoding stability. Generally, where
stability is relevant enough to measure, it is either measured at the
top level of the project (above any particular version) or at the major
vesion level. For example, a large and widely used project (e.g. a
compiler, protocol, OS) might release a new major version every couples
years. The cycle is generally like this: - A new major version is
releases as an <em>experimental</em> build. - As the new major version
gains adoption, patches are made as bugs are inevitably discovered and
reported. - Every so often, new minor features accumulate into new minor
versions - As the major version matures and the rate of bug appearance
starts to level off, the stability increases from <em>experimental</em>
to <em>unstable</em> to <em>stable</em>. Once the major version is
considered <em>stable</em>, it takes it's place as the <em>latest
version</em> of the project. Most users are expected to adopt this
version of the project, but there will of course persist a diaspora of
dependents out there that are never updated.. - Eventually, new feature
proposals and experimental implementations that have major changes
accumulate into a new major version proposal, which is released as an
experimental build. - As development slows on the <em>latest
version</em>, it eventually loses its status as the <em>latest</em>, and
the developers more or less agree that the buts worth fixing have
laready been fixed. Finally, it becomes <em>frozen</em>, which indicates
that regular updates are no longer expected and pretty much only patches
of serious new bugs are expected. - As more time passes, some projects
that depend on a specific frozen version, age, become entrenched, and
rely on that major version being availabel and a specific one of its
minor/patch version to be cononical for its specified set of features
and compatibilities. So, this specific version becomes <em>locked</em>
-- no more development is allowed (or at least, if there are changes,
they will pretty mich just be ignored by the relevant community of
dependents) on that major version.</p>
<p>The details will be different for different kinds of projects ---
open source software (<span><a href="https://github.com/ghc/ghc"><img
src="/favicon/github.com.svg" class="favicon"
alt="/favicon/github.com.svg" />GHC</a><span
class="sidenote preview">GHC<br/><em><a
href="https://github.com/ghc/ghc" title="_blank"><img
src="/favicon/github.com.svg" class="favicon"
alt="/favicon/github.com.svg" />https://github.com/ucsd-progsys/liquidhaskell</a></em><br/>Placeholder
description for
https://github.com/ucsd-progsys/liquidhaskell</span></span>), closed
source software (<span><a
href="https://www.adobe.com/acrobat/pdf-reader.html"><img
src="/missing.ico" class="favicon" alt="/missing.ico" />Adobe
Reader</a><span class="sidenote preview">Adobe Reader<br/><em><a
href="https://www.adobe.com/acrobat/pdf-reader.html" title="_blank"><img
src="/missing.ico" class="favicon"
alt="/missing.ico" />https://www.adobe.com/acrobat/pdf-reader.html</a></em><br/>Placeholder
description for
https://www.adobe.com/acrobat/pdf-reader.html</span></span>),
frequently-updated applications (<span><a
href="https://www.mozilla.org/en-US/firefox/new/"><img
src="/favicon/mozilla.org.ico" class="favicon"
alt="/favicon/mozilla.org.ico" />Firefox</a><span
class="sidenote preview">Firefox<br/><em><a
href="https://www.mozilla.org/en-US/firefox/new/" title="_blank"><img
src="/favicon/mozilla.org.ico" class="favicon"
alt="/favicon/mozilla.org.ico" />https://www.mozilla.org/en-US/firefox/new/</a></em><br/>Placeholder
description for
https://www.mozilla.org/en-US/firefox/new/</span></span>), consumer
operating systems (<span><a
href="https://www.apple.com/macos/monterey/"><img
src="/favicon/apple.com.ico" class="favicon"
alt="/favicon/apple.com.ico" />MacOS</a><span
class="sidenote preview">MacOS<br/><em><a
href="https://www.apple.com/macos/monterey/" title="_blank"><img
src="/favicon/apple.com.ico" class="favicon"
alt="/favicon/apple.com.ico" />https://www.apple.com/macos/monterey/</a></em><br/>Placeholder
description for https://www.apple.com/macos/monterey/</span></span>),
widely used protocols (<span><a
href="https://www.geeksforgeeks.org/differences-between-ipv4-and-ipv6/"><img
src="/favicon/geeksforgeeks.org.png" class="favicon"
alt="/favicon/geeksforgeeks.org.png" />IPv4, IPv6</a><span
class="sidenote preview">IPv4, IPv6<br/><em><a
href="https://www.geeksforgeeks.org/differences-between-ipv4-and-ipv6/"
title="_blank"><img src="/favicon/geeksforgeeks.org.png" class="favicon"
alt="/favicon/geeksforgeeks.org.png" />https://www.geeksforgeeks.org/differences-between-ipv4-and-ipv6/</a></em><br/>Placeholder
description for
https://www.geeksforgeeks.org/differences-between-ipv4-and-ipv6/</span></span>)
--- but at the macro scale they all follow this general pattern of
development.</p>
<p>All of this is to say that stability is an integral part of
organizing the development of software, in a way parallel to versioning.
Yet still some sort of standard "stability versioning" (other than rough
labels like "unstable" and "stable") are very rare. We return finally to
kelver.</p>
<p>Kelver is a sort of co-natver; natver counts <em>up</em> from the
<em>start</em> while kelver counts <em>down</em> to the <em>end</em>.
But in the same way that natver is only the first step towards semver in
terms of encoding the most important compatibility (historical)
relationships, perhaps kelver as simple as it is the first step towards
encoding the most important stability (future-facing) relationships?</p>
<p>I summarize the appeal of kelver, as I see it and as
[Urbit][urbit-kelvin-versioning] and [Urbit
developers][jtobin-kelvin-versioning] have described it, as its focus on
the goal of making an finished, totally-frozen piece of software. Not
all software has this goal in development (though perhaps more should),
but for the software that does, kelver delivers.</p>
<p>As with natver, however, kelver has some rough edges that modern
software engineers expect to be smoothed out by now in their
organizational systems, such as versioning. Kelver does not encode
information about compatibility (historical semantic relationships), but
let ignore that for the moment. The large immediate tension in kelver is
that <strong>it's almost always unreasonable to expect the developer
pick a reasonable starting temperature</strong>. Of course, overshooting
the starting temperature is much more convenient than undershooting
(since if you undershoot then you might run out), so the incentive is to
have a way higher temperature than the project should have. And since
the temperature of a project will start of very high, as the final
stages of the project become more clear, huge drops in temperature will
occur even if the number and significance of the changes made in the
versions that lie along that curve of steeply-dropping temperature are
not much if at all more than the changes that happened before that
point. So if a user sees that the temperature has dropped recently from
100K to 10K, they don't know yet whether that's because there's been a
lot of changes, or the developers just decided that the project is
almost done. Given this tension, kelver incentivizes developers to
overshoot temperature given uncertainty, and so the temperature only has
much precision when its close to zero. In other words, until the
temperature is very close to zero, it probably doesn't encode much if
any useful information.</p>
<p>Alternatively, even worse, if the developers undershoot the
temperature because they were confident in some stability that they
shouldn't have been, they're incenticized to pack large changes into
just a few versions that are still close to zero. So in the end, you
have to understand the developers very well in order to interpret how
stable exactly version 15K is, and there's pretty much no way of telling
how stable 1000K is.</p>
<p>And these are exactly the sort of problems in natver that semver
addresses (see section <span><a href="#semver"><img src="/favicon.ico"
class="favicon" alt="/favicon.ico" />semver</a><span
class="sidenote preview">semver<br/><em><a href="#semver"
title="_blank"><img src="/favicon.ico" class="favicon"
alt="/favicon.ico" />rybl.net</a></em><br/>TODO:
baseDescription</span></span>). Semver introduced the semantic "units"
--- major changes, minor changes, and patch changes --- the quantify how
much semantic change a new version represents, and kelver needs some
similar kind of quantification.</p>
<p>Here I propose an augmented kelver, <strong>staver</strong>, that
preserves the spirit of the original kelver while vastly improving its
usefulness, feasibility, and incentivization of good organization by
encoding slightly more information.</p>
<ul>
<li><strong>staver</strong>: the version is a pair of natural numbers,
the <em>stability</em> which counts down from a developer-chosen number,
and the <em>patch</em> which counts up from 0, written
<code>stability.patch</code>. A new <em>stability</em> version indicates
a new feature or compatibility-breaking change (which should be the
same, for the kind of projects that want this kind of versioning), and a
new <em>patch</em> version indicates a bug fix that doesn't change the
specified behavior of the current <em>stability</em> version.</li>
</ul>
<p>When the developer chooses a starting stability version, they may
want to overshoot slightly in case they have to make more breaking
changes down the road than they expected, but its much much more
feasible to anticipate how many more new features you'll add and
breaking changes you'll have to make than how many bugs you'll have to
fix. And for the projects that desire some sort of stability-focused
versioning like kelver or staver, new features are essentially
synonymous with breaking changes, since a new feature is outside the
specification of the previous stability version. Additionally, all bugs
in the same stability version can be addressed without the worry of
stability limitations, via patch versions. Kelver introduced a hack
called "release candidates" which is similar to patch versions but don't
count as real versions and in that way have none of the structure
imposed upon them that software engineers learned to make great use of.
Patch versions maintain that usefulness, which still enforcing the
restrictions of kelver when it comes to breaking changes.</p>
<p>Since it's so much more feasible for the developer to choose precise
stability versions rather than being strongly incentivized to overshoot,
the stability version can be expected to be much more precise. Of
course, sometimes developers will still want to overshoot due to large
uncertainties about the future of the project, but then as the future
becomes more certain and the stability version falls quickly, it more
sensitively captures the solidification of the future of the project
than kelver where you can only really afford to start dropping the
version by much once you are at the very end of a project.</p>
<h2 id="definitions-of-versioning-schemes">§ <a
href="#definitions-of-versioning-schemes"
class="no-link-favicon no-link-preview">Definitions of Versioning
Schemes</a></h2>
<ul>
<li><strong>randver</strong>: The version is a random version not
already used by an existing version (this is how many layuser-facing
version names are chosen for systems like macos and android)</li>
<li><strong>hashver</strong>: The version is the hash of the project
(this is essentially how github versions commits)</li>
<li><strong>idver</strong>: The version <em>is</em> the project (in
binary)</li>
<li><strong>natver</strong>: the version starts at 0 and increments for
each new version version</li>
<li><strong>kelver</strong>: The version is a natural number counts down
for each new version, and was initialized by the developers. The final
version is 0K.</li>
<li><strong>semver</strong>: the version is a triple of a
<em>major</em>, <em>minor</em>, and <em>patch</em> version. A new major
version indicates compatibility-breaking changes, a minor version
indicates compatibility-presenving new features, and a patch version
indicates a compatibility-preserving bug fix</li>
<li><strong>staver</strong>: the version is a pair of a
<em>stability</em> version and a <em>patch</em> version. The stability
version counts down on each breaking change or new feature and was
initialized by the developers, and the patch verson indicates a
compatible bug fix that doesn't add new features. The final version is
0.N, whre N can still increment for bug fixes.</li>
</ul>
<p>[curtis-yarvin]: [https://en.wikipedia.org/wiki/Curtis<em>Yarvin]
[urbit]: https://urbit.org [urbit-kelvin-versioning]:
https://urbit.org/blog/toward-a-frozen-operating-system
[jtobin-kelvin-versioning]: https://jtobin.io/kelvin-versioning
[kelvin]: https://en.wikipedia.org/wiki/Kelvin [absolute-zero]:
https://en.wikipedia.org/wiki/Absolute</em>zero [semver]:
https://semver.org [diff]: https://en.wikipedia.org/wiki/Diff</p>
<h2 id="references">§ <a href="#references"
class="no-link-favicon no-link-preview">References</a></h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/SI_base_unit"
class="inReference no-link-preview"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />SI base unit</a></li>
<li><a href="https://en.wikipedia.org/wiki/Temperature"
class="inReference no-link-preview"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />temperature</a></li>
<li><a href="https://en.wikipedia.org/wiki/Absolute_zero"
class="inReference no-link-preview"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />"absolute zero"</a></li>
<li><a href="https://en.wikipedia.org/wiki/Backward_compatibility"
class="inReference no-link-preview"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />backwards compatible</a></li>
<li><a href="https://en.wikipedia.org/wiki/Donald_Knuth"
class="inReference no-link-preview"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />Donald Knuth</a></li>
<li><a
href="https://en.wikipedia.org/wiki/The_Art_of_Computer_Programming"
class="inReference no-link-preview"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />The Art of Computer
Programming</a></li>
<li><a href="https://en.wikipedia.org/wiki/TeX#TeX82"
class="inReference no-link-preview"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />encode the natver of TeX in unary as
the sequence of digits approaching π (where π is planned to be a locked
version)</a></li>
<li><a href="https://github.com/badges/stability-badges"
class="inReference no-link-preview"><img src="/favicon/github.com.svg"
class="favicon" alt="/favicon/github.com.svg" />stability badge</a></li>
<li><a href="https://github.com/ghc/ghc"
class="inReference no-link-preview"><img src="/favicon/github.com.svg"
class="favicon" alt="/favicon/github.com.svg" />GHC</a></li>
<li><a href="https://www.adobe.com/acrobat/pdf-reader.html"
class="inReference no-link-preview"><img src="/missing.ico"
class="favicon" alt="/missing.ico" />Adobe Reader</a></li>
<li><a href="https://www.mozilla.org/en-US/firefox/new/"
class="inReference no-link-preview"><img src="/favicon/mozilla.org.ico"
class="favicon" alt="/favicon/mozilla.org.ico" />Firefox</a></li>
<li><a href="https://www.apple.com/macos/monterey/"
class="inReference no-link-preview"><img src="/favicon/apple.com.ico"
class="favicon" alt="/favicon/apple.com.ico" />MacOS</a></li>
<li><a
href="https://www.geeksforgeeks.org/differences-between-ipv4-and-ipv6/"
class="inReference no-link-preview"><img
src="/favicon/geeksforgeeks.org.png" class="favicon"
alt="/favicon/geeksforgeeks.org.png" />IPv4, IPv6</a></li>
<li><a href="#semver" class="inReference no-link-preview"><img
src="/favicon.ico" class="favicon" alt="/favicon.ico" />semver</a></li>
</ul>
<h1 id="signature"><a href="#signature"
class="no-link-favicon no-link-preview">Signature</a></h1>
<p>The following code block is the <a
href="https://en.wikipedia.org/wiki/EdDSA#Ed25519" title="_blank"><img
src="/favicon/wikipedia.org.ico" class="favicon"
alt="/favicon/wikipedia.org.ico" />Ed25519 signature</a> of this post's
<a href="/post_markdown/kelvin-versioning.md"><img src="/favicon.ico"
class="favicon" alt="/favicon.ico" />markdown content</a> encoded in
base 64, using my <em>secret key</em> and <a
href="/key/main_ed25519.pub.txt" title="_blank"><img src="/favicon.ico"
class="favicon" alt="/favicon.ico" />public key</a>.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode txt"><code class="sourceCode default"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>1d5b0b357f67006295c97471337480e2ca0e27ac11fe1c23d74748e7a8651be88e0570490f774e80f5f0b62911e66c654365f5679bdee6433ff3b5d841f7d801</span></code></pre></div>
<p>See <a href="/page/signature.html"><img src="/favicon.ico"
class="favicon" alt="/favicon.ico" />Signature</a> for more
information.</p></main>

    <footer>
      <div class="title">
        <div class="root-title">
          <a href="/">rybl.net</a>
        </div>

        <img class="website-icon" src="/image/rybl-small.png" />

        <div class="local-title">Kelvin Versioning</div>
      </div>
      <div class="menu">
        <div class="item">
          <a href="/">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="icon lucide lucide-library-icon lucide-library"
            >
              <path d="m16 6 4 14" />
              <path d="M12 6v14" />
              <path d="M8 8v12" />
              <path d="M4 4v16" />
            </svg>
          </a>
        </div>
        <div class="item">
          <a href="/page/about.html">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="icon lucide lucide-info-icon lucide-info"
            >
              <circle cx="12" cy="12" r="10" />
              <path d="M12 16v-4" />
              <path d="M12 8h.01" />
            </svg>
          </a>
        </div>
        <div class="item">
          <a href="/page/profile.html">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-globe-icon lucide-globe"
            >
              <circle cx="12" cy="12" r="10" />
              <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20" />
              <path d="M2 12h20" />
            </svg>
          </a>
        </div>
        <div class="item">
          <a href="/page/graph.html">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-orbit-icon lucide-orbit"
            >
              <path d="M20.341 6.484A10 10 0 0 1 10.266 21.85" />
              <path d="M3.659 17.516A10 10 0 0 1 13.74 2.152" />
              <circle cx="12" cy="12" r="3" />
              <circle cx="19" cy="5" r="2" />
              <circle cx="5" cy="19" r="2" />
            </svg>
          </a>
        </div>
        <div class="item">
          <a href="/page/signature.html"
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-fingerprint-icon lucide-fingerprint"
            >
              <path d="M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4" />
              <path d="M14 13.12c0 2.38 0 6.38-1 8.88" />
              <path d="M17.29 21.02c.12-.6.43-2.3.5-3.02" />
              <path d="M2 12a10 10 0 0 1 18-6" />
              <path d="M2 16h.01" />
              <path d="M21.8 16c.2-2 .131-5.354 0-6" />
              <path d="M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2" />
              <path d="M8.65 22c.21-.66.45-1.32.57-2" />
              <path d="M9 6.8a6 6 0 0 1 9 5.2v2" /></svg
          ></a>
        </div>
      </div></footer>  </body>
</html>
