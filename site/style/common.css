:root {
  @media (min-width: calc(1000px)) {
    --body-font-size: 12pt;
  }
  @media (max-width: calc(1000px - 1px)) {
    --body-font-size: 24pt;
  }

  --main-width: 890px;
  --main-padding: 1em;

  --basic-box-shadow: 0 0 1em 0.5em rgba(0, 0, 0, 0.5);

  /*--basic-box-background: color-mix(in srgb, lightblue, transparent 50%);*/
  --basic-box-background: color-mix(in srgb, rgb(17, 44, 69), transparent 90%);

  --popout-border: none;

  --indent-border-left: 0.5em solid rgb(17, 44, 69);
}

* {
  box-sizing: border-box;
}

html {
  margin: 0;
  padding: 0;

  overflow-x: hidden;
  overscroll-behavior: none;
  scroll-behavior: smooth;

  font-family: "Spectral", serif;
}

body {
  margin: 0;
  min-height: 100vh;
  padding: 0;

  display: flex;
  flex-direction: column;

  font-size: var(--body-font-size);
}

main {
  flex: 1 1 auto;
  margin: 1em auto;
  padding: var(--main-padding);
  z-index: 0;

  background: color-mix(in srgb, #f6eee3, transparent 10%);

  @media (min-width: calc(1000px)) {
    width: var(--main-width);
  }
  @media (max-width: calc(1000px - 1px)) {
    width: 100%;
  }
}

h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0;
  margin-top: 0.5em;
  margin-bottom: 0.5em;
  padding: 0;
}

a {
  display: inline;

  color: inherit;
  /*background: color-mix(in hsl, #f28500, transparent 50%);*/
  background: color-mix(in hsl, black, transparent 90%);
  -webkit-box-decoration-break: clone;
  box-decoration-break: clone;
  text-decoration: none;

  &:hover {
    text-decoration: underline;
  }

  & > .favicon {
    /*align-self: center;*/
    margin-right: 0.2em;
    margin-bottom: -0.2em;
    background: white;
  }

  & > .name {
    align-self: baseline;
  }
}

p {
  margin: 0.5em 0;
}

main p > img {
  width: calc(100% + 2em);
  margin-left: -1em;
}

pre {
  padding: 0;
  /*margin-left: -1em;*/
  /*margin-right: -1em;*/
  /*width: calc(100% + var(--main-padding));*/
  overflow: auto;
  max-height: 30em;

  & > code {
    display: block;
    padding: 1em;

    max-height: 40em;
    margin: 0;
    padding: 1em;
    font-size: 0.9em;
    font-family: "Fira Code", monospace;
  }
}

/* TODO: how to properly get blocks like this to be full-width even in articles where you have the cutsom logic that shrinks everything to be the same widtgh at hte top level childrten of main so that it doesnt overlap with the sidenote margin area? */
blockquote {
  margin: 0;
  margin-block-end: 1em;
  margin-block-start: 1em;
  padding: 0.5em 1em;
  background: var(--basic-box-background);
  border-left: var(--indent-border-left);

  margin-left: -1em;
  margin-right: -1em;
}

ol,
ul {
  margin-left: 0.5em;
  /*margin-block-end: 1em;*/
  /*margin-block-start: 1em;*/
  padding-inline-start: 1.3em;
}

table {
  border-collapse: collapse;

  thead {
    background: color-mix(in hsl, black, transparent 90%);
  }

  /*tbody {
  }*/

  th {
    padding: 0.5rem;
    background: var(--basic-box-background);
  }

  td {
    padding: 0.5rem;
    background: var(--basic-box-background);
  }
}
